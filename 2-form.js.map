{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\r\n    email: \"\",\r\n    message: \"\"\r\n}\r\n\r\nconst STORAGE_KEY = \"feedback-form-state\"\r\nconst form = document.querySelector(\".feedback-form\");\r\nconst input = document.querySelector(\"input\");\r\nconst textarea = document.querySelector(\"textarea\");\r\n\r\npopulateFormOnLoad()\r\nform.addEventListener(\"input\", handleInput)\r\nform.addEventListener(\"submit\", handleSubmit)\r\n\r\nfunction getDataFromLocalStorage(storageKey) {\r\n    const fromLocalStorage = localStorage.getItem(storageKey);\r\n    return fromLocalStorage ? JSON.parse(fromLocalStorage) : null;  \r\n}\r\n\r\nfunction getDataFromForm() {\r\n    return { \"email\": input.value.trim(), \"message\": textarea.value.trim()}\r\n}\r\n\r\nfunction handleInput(event) {\r\n    event.preventDefault();\r\n    const { email, message } = getDataFromForm();\r\n    if (email) formData['email'] = email;\r\n    if (message) formData['message'] = email;\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData))\r\n}\r\n\r\nfunction handleSubmit(event) {\r\n    const { email, message } = getDataFromForm();\r\n\r\n    if (!(email && message)) {\r\n        alert(\"Fill please all fields\")\r\n    }\r\n    else {\r\n        event.preventDefault();\r\n        localStorage.removeItem(STORAGE_KEY);\r\n        console.log(`Email: ${email}. Message: ${message}`)\r\n        input.value = '';\r\n        textarea.value = '';\r\n    }\r\n    \r\n}\r\n\r\nfunction populateFormOnLoad() {\r\n    const fromLocalStorage = getDataFromLocalStorage(STORAGE_KEY);\r\n    if (fromLocalStorage) {\r\n        input.value = fromLocalStorage['email'];\r\n        textarea.value = fromLocalStorage['message'];\r\n    }\r\n}"],"names":["formData","STORAGE_KEY","form","input","textarea","populateFormOnLoad","handleInput","handleSubmit","getDataFromLocalStorage","storageKey","fromLocalStorage","getDataFromForm","event","email","message"],"mappings":"wFAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAW,SAAS,cAAc,UAAU,EAElDC,EAAoB,EACpBH,EAAK,iBAAiB,QAASI,CAAW,EAC1CJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASC,EAAwBC,EAAY,CACzC,MAAMC,EAAmB,aAAa,QAAQD,CAAU,EACxD,OAAOC,EAAmB,KAAK,MAAMA,CAAgB,EAAI,IAC7D,CAEA,SAASC,GAAkB,CACvB,MAAO,CAAE,MAASR,EAAM,MAAM,OAAQ,QAAWC,EAAS,MAAM,MAAM,CAC1E,CAEA,SAASE,EAAYM,EAAO,CACxBA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGH,EAAe,EACtCE,IAAOb,EAAS,MAAWa,GAC3BC,IAASd,EAAS,QAAaa,GACnC,aAAa,QAAQZ,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC9D,CAEA,SAASO,EAAaK,EAAO,CACzB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGH,EAAe,EAEpCE,GAASC,GAIXF,EAAM,eAAc,EACpB,aAAa,WAAWX,CAAW,EACnC,QAAQ,IAAI,UAAUY,CAAK,cAAcC,CAAO,EAAE,EAClDX,EAAM,MAAQ,GACdC,EAAS,MAAQ,IAPjB,MAAM,wBAAwB,CAUtC,CAEA,SAASC,GAAqB,CAC1B,MAAMK,EAAmBF,EAAwBP,CAAW,EACxDS,IACAP,EAAM,MAAQO,EAAiB,MAC/BN,EAAS,MAAQM,EAAiB,QAE1C"}